<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>구글 클라우드 플랫폼 사용해서 무료로 마인크래프트 서버 열기</title>
  <style>
    body { font-family: '맑은 고딕', 'Malgun Gothic', Arial, sans-serif; background: #f6f8fa; color: #222; margin: 0; }
    .container { max-width: 900px; margin: 40px auto; background: #fff; border-radius: 8px; box-shadow: 0 2px 12px #0002; padding: 36px; }
    h1, h2 { color: #1976d2; }
    h1 { border-bottom: 2px solid #eaeaea; padding-bottom: 10px; }
    h2 { margin-top: 38px; }
    ul, ol { margin-left: 28px; }
    li { margin-bottom: 6px; }
    code, pre { background: #f3f3f3; border-radius: 4px; padding: 2px 6px; }
    pre { padding: 12px; margin: 12px 0; }
    .warn { background: #fff3e0; border-left: 4px solid #ff9800; padding: 10px 16px; margin: 18px 0; }
    .tip { background: #e3f7e3; border-left: 4px solid #4caf50; padding: 10px 16px; margin: 18px 0; }
    table { border-collapse: collapse; margin: 18px 0; width: 100%; }
    th, td { border: 1px solid #eaeaea; padding: 8px 10px; }
    th { background: #f0f4f8; }
    .section { margin-bottom: 36px; }
    .bold { font-weight: bold; }
    .center { text-align: center; }
    .cmd { color: #c7254e; }
    .step { font-weight: bold; color: #1976d2; }
    .sub { color: #888; font-size: 0.96em; }
    hr { margin: 32px 0; border: none; border-top: 1px solid #eaeaea; }
  </style>
</head>
<body>
  <div class="container">
    <h1>구글 클라우드 플랫폼 사용해서 무료로 마인크래프트 서버 열기</h1>
    <div class="section">
      구글 클라우드 플랫폼의 VM을 이용해서 마인크래프트 서버를 여는 방법 가이드입니다. (물론 다른 용도의 서버로 쓸 수도 있습니다.)
    </div>

    <h2>준비물</h2>
    <ul>
      <li>구글 계정 (구글 클라우드 플랫폼 체험판을 사용하지 않은 계정)</li>
      <li>체크카드 or 신용카드 (구글 클라우드 플랫폼 체험판을 사용하지 않은 카드)</li>
    </ul>

    <h2>장점</h2>
    <ul>
      <li>300$에 해당되는 무료 크레딧을 90일 간 사용 가능</li>
      <li>원하는 사양의 서버 사용 가능</li>
      <li>24시간 사용 가능</li>
    </ul>

    <h2>단점</h2>
    <ul>
      <li>세팅이 더럽게 어렵습니다. 진짜로요</li>
      <li>컴퓨터나 서버 관련 기본 상식이 없으면 어려울 수도 있음</li>
      <li>관리가 힘들다</li>
      <li>크레딧 다 쓴 경우 추가 결제 주의!!</li>
    </ul>

    <h2>시작</h2>
    <div class="step">1. 구글 클라우드 플랫폼 무료 체험판 가입하기</div>
    <div>
      <b>Google Cloud 무료로 사용해 보기</b><br>
      총 3단계 중 1단계 계정 정보
    </div>
    <ul>
      <li>계정 전환</li>
      <li>국가: 대한민국</li>
      <li>조직 또는 니즈를 가장 잘 나타내는 설명은 무엇인가요? Please select 개인 프로젝트</li>
      <li>서비스 약관<br>
        Google Cloud Platform 무료 평가판 서비스 약관을 읽었으며 이에 동의합니다.<br>
        계속 진행하려면 체크박스를 선택하세요.<br>
        '계속'을 클릭하면 Google이 클라우드 서비스를 제공, 유지, 개선하고 해당 목적상 필요한 기간, 서비스 기간 또는 법정 보관 기간 동안 귀하의 요청을 처리하기 위해 귀하의 국가, 주소, 성명, 생년월일, 성별, CI, 전화번호, 신용카드 정보, 결제 기록, 구성 및 설정, 서비스 이용 및 기록, 쿠키 및 자동 생성 정보, 커뮤니케이션 기록 등의 개인 정보(이상 필수항목)를 수집 및 이용함에 동의하는 것으로 간주됩니다(자세한 내용은 Google Cloud 개인정보처리방침 참조).</li>
      <li>계속</li>
    </ul>
    <div>단계를 잘 따라하며 계정 정보를 채워넣습니다.</div>
    <div>
      <b>Google Cloud Platform<br>님, 환영합니다.</b><br>
      무료 체험판에는 90일간 사용할 수 있는 $300 크레딧이 포함되어 있습니다. 보다 나은 서비스를 제공할 수 있도록 4가지 질문에 답해 주세요.
    </div>
    <ul>
      <li>조직 또는 니즈를 가장 잘 설명하는 것이 무엇인가요?</li>
      <li>Google Cloud를 방문하신 이유가 무엇인가요? 답변 선택 *</li>
      <li>Google Cloud로 어떤 작업을 하고 싶으신가요?</li>
      <li>담당하는 역할을 가장 잘 설명하는 것이 무엇인가요?</li>
      <li>닫기</li>
    </ul>
    <div>
      완료<br>
      모든 단계 완료 후, 계정과 프로젝트가 생성되고 위와 같은 창이 뜹니다. 이것도 다 해주시면 됩니다.
    </div>

    <hr>

    <div class="step">2. 가상 머신 (VM) 생성하기</div>
    <div>
      가입 완료 후, 왼쪽의 메뉴에서 <b>Compute Engine &gt; VM 인스턴스</b>를 클릭합니다.<br>
      <b>Compute Engine API</b> 사용을 눌러줍니다. 로딩이 매우 깁니다...
    </div>
    <div>
      <b>인스턴스 만들기</b>를 눌러줍니다.<br>
      -----여기부터 중요합니다-----
    </div>
    <ul>
      <li>이름: 원하는 서버의 이름을 입력합니다. (영어만)</li>
      <li>리전: 서버가 생성되는 지역입니다. 자신이 사는 곳에서 가장 가까운 곳으로 설정하세요.</li>
      <li>영역: 건드릴 필요 없습니다. 별 차이가 없습니다.</li>
    </ul>
    <div>
      <b>머신 구성</b><br>
      시리즈: E2 추천합니다. N2는 두 배가량 비싸집니다.<br>
      머신 유형:<br>
      &nbsp;&nbsp;20명 이하의 일반 서버 - e2-medium<br>
      &nbsp;&nbsp;모드가 많은 모드 서버 - e2-standard-2
    </div>
    <div>
      <b>부팅 디스크</b><br>
      운영체제: Ubuntu<br>
      버전: Ubuntu 18.04 LTS<br>
      부팅 디스크 유형: 균형 있는 영구 디스크<br>
      크기(GB): 10<br>
      <span class="sub">위의 사진과 똑같이 세팅하시면 됩니다. 혹시 맵이나 모드 파일이 엄청나게 크다면 디스크 크기를 늘리셔도 됩니다.</span>
    </div>
    <div>
      <b>월별 예상 가격</b><br>
      US$32.68<br>
      시간당 약 US$0.04<br>
      You have US$351,128.00 free trial credits remaining<br>
      사용한 만큼만 비용 지불: 선불 비용 없이 초당 청구<br>
      <span class="sub">사진을 보면 월에 $32.68달러가 나가고, 기본적으로 주는 무료 크레딧은 $300달러이니, 3개월동안은 충분히 쓸 수 있습니다. (위에 $351,128.00는 35만원이 달러로 잘못 표기된 것 입니다)</span>
    </div>
    <div>
      <b>추가적으로 확인해야 할 것</b>
      <ul>
        <li>프로그램 시작</li>
        <li>프로그램 이용 범위</li>
        <li>제한되는 작업</li>
        <li>프로그램 기간</li>
      </ul>
      $300 크레딧 제공 90일 무료 체험판은 등록을 완료하면 자동으로 시작됩니다.<br>
      무료 체험판 가입을 완료하려면 신용카드 또는 기타 결제 수단을 제공하여 Cloud Billing 계정을 설정하고 신원을 확인해야 합니다. Cloud Billing 계정을 설정해도 요금이 부과되지는 않습니다. Cloud Billing 계정을 유료 계정으로 업그레이드하여 명시적으로 결제를 사용 설정하지 않으면 요금이 청구되지 않습니다. 무료 체험판 사용 기간 중에 언제든지 유료 계정으로 업그레이드할 수 있습니다. 업그레이드한 후에도 90일 기간 이내에 남은 크레딧을 계속 사용할 수 있습니다.<br>
      무료 체험판 크레딧은 Google Maps Platform 사용을 비롯하여 모든 Google Cloud 리소스에 적용되지만 다음과 같은 예외가 있습니다.
      <ul>
        <li>VM 인스턴스에 GPU를 추가할 수 없습니다.</li>
        <li>할당량 증가를 요청할 수 없습니다. Compute Engine 할당량의 개요는 리소스 할당량을 참조하세요.</li>
        <li>Windows Server 이미지 기반의 VM 인스턴스를 생성할 수 없습니다.</li>
      </ul>
      위에 나열된 작업을 수행하려면 유료 Cloud Billing 계정으로 업그레이드해야 합니다.<br>
      리소스 제약조건 외에 무료 체험판 기간 동안 금지되는 사용 사례가 무료 체험판 이용약관에 명시되어 있습니다. 예를 들어 무료 체험판 기간 동안 Google Cloud 서비스를 사용하여 암호화폐를 채굴해서는 안 됩니다.<br>
      다음 중 한 가지 상황이라도 발생하면 무료 체험판이 종료됩니다.
      <ul>
        <li>$300 크레딧을 소진한 경우</li>
        <li>등록 후 90일이 경과한 경우</li>
      </ul>
      무료 체험판 기간 동안 Google Cloud Console의 결제 계정 개요 페이지에 남은 크레딧과 남은 기간이 표시됩니다.
    </div>
    <div>
      직접 읽으러 가기<br>
      다 확인하셨다면, 만들기를 눌러 VM을 생성해줍니다....
    </div>
    <table>
      <tr><th>상태</th><th>이름</th><th>영역</th></tr>
      <tr><td></td><td>minecraftserver</td><td>asia-northeast3-a</td></tr>
    </table>
    <div>
      <b>고정 아이피 예약</b><br>
      생성이 완료되면, 이렇게 초록색 체크표시가 뜹니다. 이름을 클릭해서 세부정보로 들어갑시다.
    </div>

    <hr>

    <div class="step">3. VM 셋팅하기</div>
    <div>
      스크롤을 내려서 네트워크 인터페이스를 찾아줍시다. 찾고는 이름 밑에 nic0을 눌러줍니다.
    </div>
    <table>
      <tr><th>이름</th><th>네트워크</th><th>서브네트워크</th></tr>
      <tr><td>nic0</td><td>default</td><td>default</td></tr>
    </table>
    <div>
      왼쪽 메뉴에서 방화벽을 누르고 방화벽 규칙 만들기를 눌러줍니다.
    </div>
    <div>
      <b>트래픽 방향</b><br>
      수신<br>
      송신
    </div>
    <div>
      <b>일치 시 작업</b><br>
      허용<br>
      거부
    </div>
    <div>
      <b>대상</b><br>
      둘다<br>
      네트워크의 모든 인스턴스
    </div>
    <div>
      <b>소스 필터</b><br>
      IPv4 범위
    </div>
    <div>
      소스 IPv4 범위 *<br>
      0.0.0.0/0 예: 0.0.0.0/0, 192.168.2.0/24
    </div>
    <div>
      <b>보조 소스 필터</b><br>
      없음
    </div>
    <div>
      <b>프로토콜 및 포트</b><br>
      모두 허용<br>
      지정된 프로토콜 및 포트<br>
      tcp: 25565<br>
      udp: 19132
    </div>
    <div>
      기타 프로토콜<br>
      쉼표로 구분된 프로토콜(예: AH, SCTP)
    </div>
    <div>
      위와 같이 세팅하고 트래픽 방향 수신, 송신으로 규칙을 두 개 만들어줍니다.
    </div>
    <div>
      다 만들었으면 뒤로 가서 다시 세부 정보 페이지로 돌아갑시다.<br>
      앞으로 우분투라는 운영 체제를 사용해서 셋팅할 겁니다. 기본을 알고 계신다면 더 편하겠죠??
    </div>
    <div>
      세부정보에 들어갔으면, SSH라고 쓰여져있는 버튼을 클릭합니다. 연결하겠냐고 물어보면 연결을 눌러줍니다. 앞으로 이 창을 콘솔 창이라고 부르겠습니다.
    </div>
    <div>
      <b>자바 설치하기:</b>
      <pre>
wget 자바 설치 링크
chmod +x script.sh
./script.sh
      </pre>
      위 명령어를 붙혀넣고 엔터를 누르면 알아서 설치를 진행합니다.
    </div>
    <div>
      다음은 Paper 사이트에서 서버 파일을 다운받겠습니다.<br>
      원하는 서버 버전이 최신 버전일 경우 이 사이트에서 Build 밑에 있는 파란 버튼을 우클릭하고 링크 주소 복사.<br>
      원하는 서버 버전이 최신 버전일 아닐 경우 이 사이트에서 원하는 버전에 있는 DOWNLOAD ANYWAY을 우클릭하고 링크 주소 복사.<br>
      아래와 같이 되도록 콘솔 창에 입력하고 엔터를 눌러주세요. (그냥 wget 치고 한칸 띄우고 컨트롤 + V 누르시면 됩니다.)
      <pre>wget 복사한 링크 주소</pre>
      + <code>sudo apt update && sudo apt install wget</code><br>
      <code>sudo apt-get install screen</code>
    </div>

    <hr>

    <div class="step">4. 서버 열기</div>
    <div>
      <b>서버 IP 알아내기:</b><br>
      <code>curl https://ipinfo.io/ip</code><br>
      입력하면 서버 IP가 나옵니다.<br>
      일단 서버의 램 크기는 서버의 램 크기 - 1기가해서 램 크기를 잡으시면 됩니다.<br>
      서버 실행 명령어는 아래와 같습니다.<br>
      <code>java -Xmx(서버 램 크기 - 1기가)G -jar paper(여기까지 치고 Tab키 눌러주세요)</code>
    </div>
    <div>
      Tab키는 자동완성 키 입니다. 총 정리해보면 저의 경우에는 서버가 4기가이니 이런 명령어가 나오게 됩니다.<br>
      <code>java -Xmx3G -jar paper-1.12.2-1618.jar</code>
    </div>
    <div>
      아래와 같은 말이 뜬다면 서버가 열린 것입니다.<br>
      <b>Done (서버 열리는 데 걸린 시간)! For help, type "help" or "?"</b>
    </div>
    <div>이제 즐기면 됩니다!</div>

    <hr>

    <div class="step">5. 근데 이거 창 닫으면 서버가 꺼져요!</div>
    <div>
      정상적인 작동입니다. 하지만 우리는 24시간 서버를 원하니까 창 안 닫고도 계속 작동하게 해볼까요?
    </div>
    <div>
      명령어를 백그라운드에서 작동하게하는 명령어 (세션 열기):<br>
      <code>screen -dmS minecraft 서버 여는 명령어</code>
      <br>예시:<br>
      <code>screen -dmS minecraft java -Xmx3G -jar paper-1.12.2-1618.jar</code>
    </div>
    <div>
      명령어를 치고싶어요!<br>
      세션에 연결하기:<br>
      <code>screen -rd minecraft</code><br>
      세션에서 나오려면 컨트롤이랑 A, D를 같이 누르시면 됩니다.
    </div>
    <div>
      꼭 더 이상 서버를 안 쓸 거면, 구글 클라우드 플랫폼에서 서버를 삭제해주세요!
    </div>

    <hr>

    <div class="step">6. 중요한 마인크래프트 서버 명령어</div>
    <ul>
      <li>op (이름): 관리자 권한 부여</li>
      <li>deop (이름): 관리자 권한 해제</li>
      <li>save-all: 서버 세이브</li>
      <li>stop: 세이브 후 서버 종료</li>
    </ul>

    <hr>

    <div class="step">7. 뭔가 안되는 것 같아요!</div>
    <div>
      일단 재부팅하고 다시 시도해보세요. 그래도 안돼시면 콘솔 창에 마지막으로 뜬 에러를 댓글로 남겨주시면 알려드리겠습니다.
    </div>

    <hr>

    <div class="step">8. 추가로 알면 좋은거</div>
    <ul>
      <li>맵이 개떡같이 나왔어요. 다시 생성할래요:<br>
        서버 종료 후에 밑의 명령어를 실행해주세요<br>
        <code>rm -rf world*</code><br>
        다시 실행하면 월드를 재생성합니다.
      </li>
      <li>서버와 컴퓨터 간의 파일 이동: 파일질라</li>
      <li>screen 사용법: screen 사용법</li>
      <li><code>zip -r name.zip folder_name</code></li>
      <li><code>rm -r folder_name</code></li>
      <li><code>rm file_name</code></li>
      <li><code>df -h</code></li>
      <li><code>du -h folder_name</code></li>
    </ul>
  </div>
</body>
</html>
